<?php
declare(strict_types=1);

use Codeception\Util\HttpCode;

{{>licenseInfo}}

{{#operations}}/**
 * Class {{classname}}
 *
 * Acceptance tests for the {{classVarName}} endpoint.
 *
 */
class {{classname}} extends TestCase
{
    {{#operation}}
    /**
     * Operation {{{operationId}}}
     *
     * {{{summary}}}
     *
     * @param AcceptanceTester $I
     * @throws \Exception
     */
    public function {{operationId}}(AcceptanceTester $I)
    {
        {{#if pathParams}}{{#pathParams}}${{paramName}} = ''; //{{description}} {{#required}}(required){{/required}}{{^required}}(optional{{#defaultValue}}, default to {{{.}}}{{/defaultValue}}){{/required}}
        {{/pathParams}}
        {{/if ~}}

        $I->send{{httpMethod}}("{{resolvedPath}}"{{#ifEquals httpMethod 'POST'}}, json_encode(
            [
                {{{codeCeptionRequestBody}}}
            ]
        ){{/ifEquals ~}});
        $I->seeResponseCodeIs(HttpCode::{{#responses}}{{#@first}}{{httpDescription}}{{/@first}}{{/responses}});{{#produces}}{{#ifEquals mediaType 'application/json'}}
        $I->seeResponseIsJson();{{/ifEquals}}{{/produces}}
    {{#codeCeptionResponse}}    $I->seeResponseMatchesJsonType(
            [
                {{{codeCeptionResponse}}}
            ]
        );
    {{/codeCeptionResponse ~}}
    }
    {{/operation}}
}
{{/operations ~}}
